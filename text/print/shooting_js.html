<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>情報プログレス 動作用Javascript</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main>
    <h1>情報プログレス 動作用Javascript</h1>

    <pre><code class="code-sample">
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

const player = {
    x: canvas.width / 2 - 15,
    y: canvas.height - 60,
    width: 30,
    height: 30,
    color: "yellow",
    life: 3,
};

const bullets = [];
const BULLET_SPEED = -5;

function tryShoot(){
    bullets.push({
        x: player.x,
        y: player.y,
        width: 10,
        height: 10,
        vy: BULLET_SPEED,
    })
}

window.addEventListener("keydown", (e) => {
    if (e.key === "ArrowLeft") {
        if (player.x > 10) {
            player.x -= 10;
        }
    } else if (e.key === "ArrowRight") {
        if (player.x < canvas.width - player.width - 10){
        player.x += 10;
    }
    } else if (e.code === "Space") {
     tryShoot();
    }
});

function update(){
    for (let i = 0; i < bullets.length; i++) {
        const bullet = bullets[i];
        bullet.y += bullet.vy;   
        if (bullet.y < 0) {
            bullets.splice(i, 1);
        }
    }
}

function draw(){
    ctx.fillStyle = "black";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = player.color;
    ctx.fillRect(player.x, player.y, player.width, player.height);
    ctx.fillStyle = "white";
    for (let i = 0; i < bullets.length; i++) {
        const bullet = bullets[i];
        ctx.fillRect(bullet.x, bullet.y, bullet.width, bullet.height);
    }
}

function gameLoop() {
    update();
    draw();
    requestAnimationFrame(gameLoop);
}
gameLoop();

    </code></pre>

    <ol>
      <li>
        <span class="code-sample">&lt;!DOCTYPE html&gt;</span> は、このファイルが <span class="fill-blank"></span> であることを示す宣言です。
      </li>
      <li>
        <span class="code-sample">&lt;html lang="ja"&gt;</span> は、この文書が<span class="fill-blank"></span> 語で書かれていることを示します。
      </li>
      <li>
        <span class="code-sample">&lt;head&gt;</span> タグの中には、ページの見た目には直接表示されない <span class="fill-blank"></span> 情報が書かれます。
      </li>
      <li>
        <span class="code-sample">&lt;meta charset="UTF-8"&gt;</span> は、文字コードを <span class="fill-blank"></span> に指定することで、日本語が文字化けしないようにします。
      </li>
      <li>
        <span class="code-sample">&lt;title&gt;シューティングゲーム&lt;/title&gt;</span> は、ブラウザの <span class="fill-blank"></span> に表示されるタイトルを設定します。
      </li>
      <li>
        <span class="code-sample">&lt;link rel="stylesheet" href="style.css"&gt;</span> は、外部の <span class="fill-blank"></span> ファイルを読み込み、デザインを適用します。
      </li>
      <li>
        <span class="code-sample">&lt;body&gt;</span> タグには、実際に画面に表示される <span class="fill-blank"></span> が書かれます。
      </li>
      <li>
        <span class="code-sample">&lt;canvas id="gameCanvas" width="480" height="640"&gt;&lt;/canvas&gt;</span> は、ゲーム画面を描くための <span class="fill-blank"></span> 領域を作ります。ここでは幅が <span class="fill-blank"></span> ピクセル、高さが <span class="fill-blank"></span> ピクセルに設定されています。
      </li>
      <li>
        <span class="code-sample">&lt;script src="main.js"&gt;&lt;/script&gt;</span> は、外部の <span class="fill-blank"></span> ファイルを読み込み、ゲームの動きをプログラムします。
      </li>
    </ol>

    <details><summary>用語解説</summary>
      ここで出てきた用語の説明です。
      <ul>
        <li>HTML … ウェブページを作るための言語</li>
        <li>head … ページの設定を書く部分</li>
        <li>body … 実際に表示される部分</li>
        <li>canvas … 描画（グラフィック）用の領域</li>
        <li>CSS … デザインを指定するための言語</li>
        <li>JavaScript … ページに動きを付けるための言語</li>
      </ul>
    </details>
  </main>
  <script src="inject.js"></script>
</body>

</html>